<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>MK CW Overlay</title>
        <script async="" type="text/javascript">
            function update() {
                xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = () => {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        var splitresult = xmlhttp.responseText.split("&");
                        if (document.getElementById("home-current") && splitresult[0].split("=")[1] != undefined) {
                            document.getElementById("home-current").innerHTML=splitresult[0].split("=")[1];
                        }
                        if (document.getElementById("home-tag") && splitresult[1].split("=")[1] != undefined) {
                            document.getElementById("home-tag").innerHTML=splitresult[1].split("=")[1];
                        }
                        if (document.getElementById("home-name") && splitresult[2].split("=")[1] != undefined) {
                            document.getElementById("home-name").innerHTML=splitresult[2].split("=")[1];
                        }
                        if (document.getElementById("home-logo") && splitresult[3].split("=")[1] != undefined) {
                            document.getElementById("home-logo").src=splitresult[3].split("=")[1];
                        }
                        if (document.getElementById("guest-current") && splitresult[4].split("=")[1] != undefined) {
                            document.getElementById("guest-current").innerHTML=splitresult[4].split("=")[1];
                        }
                        if (document.getElementById("guest-tag") && splitresult[5].split("=")[1] != undefined) {
                            document.getElementById("guest-tag").innerHTML=splitresult[5].split("=")[1];
                        }
                        if (document.getElementById("guest-name") && splitresult[6].split("=")[1] != undefined) {
                            document.getElementById("guest-name").innerHTML=splitresult[6].split("=")[1];
                        }
                        if (document.getElementById("guest-logo") && splitresult[7].split("=")[1] != undefined) {
                            document.getElementById("guest-logo").src=splitresult[7].split("=")[1];
                        }
                        if (document.getElementById("difference") && splitresult[8].split("=")[1] != undefined) {
                            document.getElementById("difference").innerHTML=splitresult[8].split("=")[1];
                        }
                    };
                };  
                
                //
                //
                //  Edit the guild-id, user-id and your auth-id below according to the overlay you want to test edit, 
                //  or leave as zeroes, if you want to test through the sample.
                //
                //
                xmlhttp.open("POST", "http://toad.darkstormgames.de/test.php?c=0&u=0&auth=0", true);
                xmlhttp.send();
                return false;
            }

            setInterval(() => {
                update();
            }, 500);
            update();
        </script>
        <style>
            #container {
                position:absolute;
                top:0;
                left:0;
                right:0;
                margin-left:auto;
                margin-right:auto;
                text-align:center;
                color:white;
                font-size:28px;
                width: 962px;
            }
            #difference {
                top:70%;
                left:50.8%;
            }
            #home-current {
                top:60px;
                left:20%;
            }
            #home-tag {
                top:20px;
                left:20%;
            }
            #home-name {
                top:20px;
                left:20%;
            }
            #home-logo {
                top:40px;
                left:35%;
                height:70px;
            }
            #guest-current {
                top:60px;
                left:80%;
            }
            #guest-tag {
                top:20px;
                left:80%;
            }
            #guest-name {
                top:20px;
                left:80%;
            }
            #guest-logo {
                top:40px;
                left:67.5%;
                height:70px;
            }
            .central-position {
                position:absolute;
                transform:translate(-50%,-50%);
            }
            .opacity-90 {
                opacity:0.9;
            }
            .opacity-85 {
                opacity:0.85;
            }
            .opacity-75 {
                opacity:0.75;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <!-- Insert the URL to your background for testing here, but leave the content of the source empty and use the "setimage [URL]" command
                to update it dynamically in the overlay. -->
            <!-- Always post the img tag in the "sethtml [HTML-body]" command as follows with all spaces included:
                   <img id="bg" src="" > 
                Or just leave it in the HTML. Doesn't really make any difference. It just won't take the image URL from "setimage [URL]" anymore.
            -->
            <img id="bg" class="opacity-75" src="http://toad.darkstormgames.de/images/default.png" >
            <div id="difference" class="central-position opacity-75"></div>
            
            <div id="home-current" class="central-position opacity-90"></div>
            <img id="home-logo" class="central-position opacity-85" src="">
            <div id="home-tag" class="central-position opacity-90"></div>
            <!--<div id="home-name" class="central-position opacity-90"></div>-->

            <div id="guest-current" class="central-position opacity-90"></div>
            <img id="guest-logo" class="central-position opacity-85" src="">
            <div id="guest-tag" class="central-position opacity-90"></div>
            <!--<div id="guest-name" class="central-position opacity-90"></div>-->
        </div>
    </body>
</html>
